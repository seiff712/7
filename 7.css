:root{
  --bg1:#070814;
  --bg2:#14072a;

  --txt:#f4f5ff;
  --muted:#cfd3ffb3;

  --stroke:#ffffff22;
  --glass:#ffffff10;
  --glass2:#ffffff0b;

  --a:#ff4d8d;
  --b:#7c4dff;

  --shadow: 0 26px 80px rgba(0,0,0,.55);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:system-ui, Tahoma, Arial;
  color:var(--txt);
  overflow-x:hidden;

  /* صورة البداية */
  background: url("./img/1.JPG") center/cover no-repeat fixed;
  transition: background 0.8s ease;
}


/* نجوم خفيفة */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.20) 1px, transparent 1px),
    radial-gradient(circle at 2px 2px, rgba(255,255,255,.12) 1px, transparent 1px);
  background-size: 90px 90px, 140px 140px;
  background-position: 0 0, 30px 50px;
  opacity:.5;
  pointer-events:none;
}

/* ✅ لما توصل 100% (خلفية مختلفة) */
body.bg-win{
  background:
    radial-gradient(circle at 20% 20%, rgba(255,77,141,.65) 0%, transparent 55%),
    radial-gradient(circle at 80% 70%, rgba(124,77,255,.65) 0%, transparent 55%),
    radial-gradient(circle at 50% 100%, rgba(0,194,255,.30) 0%, transparent 60%),
    linear-gradient(160deg, #0a0018, #2a003d);
}

/* ✅ نور/Glow فوق الصفحة */
body.glow::after{
  content:"";
  position:fixed;
  inset:-40px;
  background:
    radial-gradient(600px 380px at 30% 25%, rgba(255,77,141,.25), transparent 60%),
    radial-gradient(650px 420px at 70% 70%, rgba(124,77,255,.22), transparent 62%),
    radial-gradient(520px 360px at 50% 50%, rgba(0,194,255,.14), transparent 65%);
  filter: blur(16px);
  pointer-events:none;
  animation: glowPulse 1.1s ease-in-out infinite alternate;
}

@keyframes glowPulse{
  from{ opacity:.55; transform: scale(1); }
  to  { opacity:.95; transform: scale(1.02); }
}

.app{
  width:min(560px, 94vw);
  padding:22px 18px;
  border-radius:24px;
  background: linear-gradient(180deg, var(--glass), var(--glass2));
  border:1px solid var(--stroke);
  
  box-shadow: var(--shadow);
  text-align:center;
  position:relative;
  isolation:isolate;
  z-index:2;
}

.app::after{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius:26px;
  
  z-index:-1;
  pointer-events:none;
}

.hero{ text-align:center; margin-bottom:10px; }
.badge{
  display:inline-block;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid #ffffff00;
  background:#ffffff10;
  font-weight:900;
}
h1{margin:10px 0 6px; font-size: clamp(24px, 4vw, 34px);}
.muted{margin:0; color:var(--muted)}

.panel{
  margin-top:14px;
  padding:16px;
  border-radius:22px;
  border:1px solid #ffffff07;
  background: rgba(0, 0, 0, 0.041);
  box-shadow: 0 18px 60px rgba(0, 0, 0, 0.001);
  text-align:right;
}

.label{
  display:block;
  text-align:right;
  font-weight:900;
  margin:0 0 8px;
}

.inp{
  width:100%;
  padding:13px 14px;
  border-radius:14px;
  border:1px solid #ffffff1f;
  background:#0b1020aa;
  color:var(--txt);
  outline:none;
  transition: border-color .15s ease, box-shadow .15s ease;
}
.inp::placeholder{color:#cfd3ff80}
.inp:focus{
  border-color: rgba(255,77,141,.55);
  box-shadow: 0 0 0 4px rgba(255,77,141,.10);
}

.btn,.btn2,.btn3{
  margin-top:10px;
  padding:12px 16px;
  border:0;
  border-radius:14px;
  font-weight:950;
  cursor:pointer;
  transition: transform .12s ease, filter .12s ease;
  width:100%;
}
.btn{
  color:white;
  background:linear-gradient(90deg,var(--a),var(--b));
  box-shadow: 0 18px 50px rgba(0,0,0,.45);
}
.btn2{
  background:#ffffff12;
  color:var(--txt);
  border:1px solid #ffffff22;
}
.btn3{
  background:transparent;
  color:var(--muted);
  border:1px solid #ffffff1f;
}
.btn:active,.btn2:active,.btn3:active{ transform: scale(.99); filter:brightness(.96); }

.bar{
  margin-top:12px;
  height:14px;
  border-radius:999px;
  border:1px solid #ffffff1f;
  background:#00000025;
  overflow:hidden;
}
.fill{
  height:100%;
  border-radius:999px;
  background:linear-gradient(90deg,var(--a),var(--b));
  transition:width 120ms linear;
}

.result{
  margin-top:12px;
  padding:12px;
  border-radius:16px;
  background:#00000022;
  border:1px solid #ffffff1f;
  color:var(--txt);
  text-align:center;
}
.result.big{font-size:18px; font-weight:950}

.final{
  margin-top:12px;
  padding:14px;
  border-radius:18px;
  border:1px solid #ffffff1f;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  text-align:center;
}
.final h2{margin:0 0 8px}
.final p{margin:0 0 12px}

/* ===== Fireworks Layer ===== */
.fx{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:999;
}

/* شرارة واحدة */
.spark{
  position:absolute;
  width:10px;
  height:10px;
  border-radius:50%;
  left:0;
  top:0;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(255,255,255,.95), rgba(255,255,255,.2));
  filter: drop-shadow(0 0 10px rgba(255,255,255,.7));
  animation: pop var(--d) ease-out forwards;
}

@keyframes pop{
  0%{
    opacity:1;
    transform: translate(-50%, -50%) scale(1);
  }
  100%{
    opacity:0;
    transform:
      translate(calc(-50% + var(--dx)), calc(-50% + var(--dy)))
      scale(var(--s));
  }
}
/* ===== BAR EFFECTS ===== */

/* اهتزاز */
.bar.shake{
  animation: barShake .45s ease;
}

@keyframes barShake{
  0%,100%{ transform: translateX(0); }
  20%{ transform: translateX(6px); }
  40%{ transform: translateX(-6px); }
  60%{ transform: translateX(4px); }
  80%{ transform: translateX(-4px); }
}

/* نور / Glow */
.bar.glow{
  box-shadow:
    0 0 14px rgba(255,77,141,.9),
    0 0 30px rgba(124,77,255,.8),
    0 0 60px rgba(255,77,141,.6);
  border-color: rgba(255,255,255,.6);
}

/* ✅ صورة الفوز */
body.bg-win{
  background: url("./img/2.JPG") center/cover no-repeat fixed;
}

/* طبقة تغميق خفيفة عشان الكلام يبان */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.45);
  pointer-events:none;
}

/* نخلي المحتوى فوق الصورة */
.app{
  position:relative;
  z-index:2;
}
